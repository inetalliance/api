description = 'CG2 Sonar'
group = 'com.callgrove'
version = '2.0-SNAPSHOT'
apply plugin: 'war'


dependencies {
    compile(
            'net.inetalliance.angular:base:1.0-SNAPSHOT',
            'net.inetalliance:util:1.0-SNAPSHOT',
            project(':obj'),
            project(':msg:aj')
    )
    providedCompile(
            'javax.servlet:javax.servlet-api:3.1.0',
            'org.apache.tomcat:tomcat-websocket-api:9.0.0.M19'
    )

}

task sync(dependsOn: ['assemble'], type: Exec) {
    workingDir 'build/libs'
    commandLine 'scp', 'api-2.0-SNAPSHOT.war',
            "codeship@deploy.inetalliance.net:/x/deploy/sonar/${System.env.CI_BRANCH}/ROOT.war"
}


